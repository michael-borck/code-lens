# CodeLens Environment Configuration Example
# Copy this file to .env and customize for your environment

# =============================================================================
# BASIC CONFIGURATION
# =============================================================================

# Environment (development, production)
CODELENS_ENV=development

# Logging level (debug, info, warning, error)
CODELENS_LOG_LEVEL=info

# Server configuration
CODELENS_HOST=0.0.0.0
CODELENS_PORT=8000
CODELENS_WORKERS=1

# Application secret key (generate with: openssl rand -hex 32)
CODELENS_SECRET_KEY=your-secret-key-here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite (Development - Default)
CODELENS_DATABASE__URL=sqlite+aiosqlite:///./codelens.db

# PostgreSQL (Production - Recommended)
# CODELENS_DATABASE__URL=postgresql+asyncpg://username:password@localhost:5432/codelens

# Database connection settings
CODELENS_DATABASE__ECHO=false
CODELENS_DATABASE__POOL_SIZE=5
CODELENS_DATABASE__MAX_OVERFLOW=10

# =============================================================================
# ANALYSIS CONFIGURATION
# =============================================================================

# Code analysis tools
CODELENS_ANALYZER__RUFF_ENABLED=true
CODELENS_ANALYZER__MYPY_ENABLED=true
CODELENS_ANALYZER__CHECK_TYPE_HINTS=true
CODELENS_ANALYZER__CHECK_DOCSTRINGS=true

# Analysis limits
CODELENS_ANALYZER__MAX_COMPLEXITY=10
CODELENS_ANALYZER__MAX_LINE_LENGTH=88
CODELENS_ANALYZER__EXECUTION_TIMEOUT=30
CODELENS_ANALYZER__MEMORY_LIMIT=128m
CODELENS_ANALYZER__CPU_LIMIT=0.5

# =============================================================================
# SIMILARITY DETECTION
# =============================================================================

# Enable similarity checking
CODELENS_SIMILARITY__ENABLED=true
CODELENS_SIMILARITY__THRESHOLD=0.8
CODELENS_SIMILARITY__METHODS=["ast_similarity", "token_similarity"]

# AI baseline comparison
CODELENS_SIMILARITY__USE_AI_BASELINES=false
CODELENS_SIMILARITY__AI_BASELINE_COUNT=5

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Docker integration (for code execution)
CODELENS_DOCKER_ENABLED=true

# Upload limits
CODELENS_MAX_FILE_SIZE=10485760  # 10MB in bytes
CODELENS_MAX_FILES_PER_BATCH=100

# API rate limiting
CODELENS_RATE_LIMIT_ENABLED=true
CODELENS_RATE_LIMIT_REQUESTS=100
CODELENS_RATE_LIMIT_WINDOW=3600  # 1 hour in seconds

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Redis (for caching and background tasks)
# CODELENS_REDIS_URL=redis://localhost:6379/0

# Email configuration (for notifications)
# CODELENS_EMAIL__SMTP_HOST=smtp.example.com
# CODELENS_EMAIL__SMTP_PORT=587
# CODELENS_EMAIL__USERNAME=your-email@example.com
# CODELENS_EMAIL__PASSWORD=your-app-password
# CODELENS_EMAIL__USE_TLS=true

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Structured logging format
CODELENS_LOG_FORMAT=json

# Health check configuration
CODELENS_HEALTH_CHECK_TIMEOUT=30

# Metrics collection
CODELENS_METRICS_ENABLED=false
# CODELENS_METRICS_ENDPOINT=/metrics

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Auto-reload on file changes (development only)
CODELENS_AUTO_RELOAD=false

# API documentation
CODELENS_DOCS_ENABLED=true
CODELENS_DOCS_URL=/docs

# Debug mode
CODELENS_DEBUG=false

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================

# For production deployment, uncomment and configure:

# Database (PostgreSQL recommended for production)
# CODELENS_DATABASE__URL=postgresql+asyncpg://codelens:secure_password@localhost:5432/codelens

# Performance
# CODELENS_WORKERS=4
# CODELENS_LOG_LEVEL=warning

# Security
# CODELENS_SECRET_KEY=your-super-secure-secret-key-generated-randomly
# CODELENS_RATE_LIMIT_ENABLED=true
# CODELENS_DOCS_ENABLED=false

# Caching
# CODELENS_REDIS_URL=redis://localhost:6379/0